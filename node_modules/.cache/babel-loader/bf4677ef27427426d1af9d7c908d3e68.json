{"remainingRequest":"C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\src\\index.js","dependencies":[{"path":"C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\src\\index.js","mtime":1581925828383},{"path":"C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1581926356531},{"path":"C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1581926357833},{"path":"C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.regexp.replace\";\n\nfunction getURLParameter(name, url = window.location.href) {\n  name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n  var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n      results = regex.exec(url);\n  if (!results || !results[2]) return null;\n  return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n} // set defaults\n\n\nlet s = [];\nlet m = '';\nlet y = 2016;\nlet t = ''; // Get URL arguments if passed\n//     m   metric number\n//     y   year\n//     s   selected\n//     t   map title\n\nm = '1';\n\nif (getURLParameter(\"m\")) {\n  let passedMetric = getURLParameter(\"m\");\n  m = passedMetric;\n}\n\nif (getURLParameter('y') !== null) {\n  y = getURLParameter('y');\n}\n\nif (getURLParameter('s') !== null) {\n  s = getURLParameter('s').split(\",\");\n}\n\nif (getURLParameter('t') !== null) {\n  t = getURLParameter('t');\n} // set iframe src\n\n\ndocument.querySelector('.embed iframe').src = setURL(m, y, s, t); // URL for the iframe\n\nfunction setURL(m, y, s, t) {\n  let url = `${window.location.href.substring(0, window.location.href.lastIndexOf(\"/\")) + '/embed.html'}?m=${m}&y=${y}&s=${s}&t=${encodeURI(t)}&tocp=true&pitch=false`;\n  return url;\n} // parent/iframe communications\n\n\nwindow.titleChange = function (title) {\n  document.querySelector(\"iframe\").contentWindow.postMessage({\n    \"title\": title\n  }, '*');\n};\n\nwindow.onmessage = function (e) {\n  let data = e.data;\n\n  if (data.maptitle) {\n    t = data.maptitle;\n    document.querySelector(\"#maptitle\").value = t;\n  }\n};",{"version":3,"sources":["src\\index.js"],"names":["getURLParameter","name","url","window","location","href","replace","regex","RegExp","results","exec","decodeURIComponent","s","m","y","t","passedMetric","split","document","querySelector","src","setURL","substring","lastIndexOf","encodeURI","titleChange","title","contentWindow","postMessage","onmessage","e","data","maptitle","value"],"mappings":";;;;AAAA,SAASA,eAAT,CAAyBC,IAAzB,EAA+BC,MAAMC,OAAOC,QAAP,CAAgBC,IAArD,EAA2D;AACzDJ,SAAOA,KAAKK,OAAL,CAAa,SAAb,EAAwB,MAAxB,CAAP;AACA,MAAIC,QAAQ,IAAIC,MAAJ,CAAW,SAASP,IAAT,GAAgB,mBAA3B,CAAZ;AAAA,MACEQ,UAAUF,MAAMG,IAAN,CAAWR,GAAX,CADZ;AAEA,MAAI,CAACO,OAAD,IAAY,CAACA,QAAQ,CAAR,CAAjB,EAA6B,OAAO,IAAP;AAC7B,SAAOE,mBAAmBF,QAAQ,CAAR,EAAWH,OAAX,CAAmB,KAAnB,EAA0B,GAA1B,CAAnB,CAAP;AACD,C,CAED;;;AACA,IAAIM,IAAI,EAAR;AACA,IAAIC,IAAI,EAAR;AACA,IAAIC,IAAI,IAAR;AACA,IAAIC,IAAI,EAAR,C,CAGA;AACA;AACA;AACA;AACA;;AACAF,IAAI,GAAJ;;AACA,IAAIb,gBAAgB,GAAhB,CAAJ,EAA0B;AACxB,MAAIgB,eAAehB,gBAAgB,GAAhB,CAAnB;AACAa,MAAIG,YAAJ;AACD;;AACD,IAAIhB,gBAAgB,GAAhB,MAAyB,IAA7B,EAAmC;AACjCc,MAAId,gBAAgB,GAAhB,CAAJ;AACD;;AACD,IAAIA,gBAAgB,GAAhB,MAAyB,IAA7B,EAAmC;AACjCY,MAAIZ,gBAAgB,GAAhB,EAAqBiB,KAArB,CAA2B,GAA3B,CAAJ;AACD;;AACD,IAAIjB,gBAAgB,GAAhB,MAAyB,IAA7B,EAAmC;AACjCe,MAAIf,gBAAgB,GAAhB,CAAJ;AACD,C,CAED;;;AACAkB,SAASC,aAAT,CAAuB,eAAvB,EAAwCC,GAAxC,GAA8CC,OAAOR,CAAP,EAAUC,CAAV,EAAaF,CAAb,EAAgBG,CAAhB,CAA9C,C,CAGA;;AACA,SAASM,MAAT,CAAgBR,CAAhB,EAAmBC,CAAnB,EAAsBF,CAAtB,EAAyBG,CAAzB,EAA4B;AAC1B,MAAIb,MACD,GAAEC,OAAOC,QAAP,CAAgBC,IAAhB,CAAqBiB,SAArB,CAA+B,CAA/B,EAAkCnB,OAAOC,QAAP,CAAgBC,IAAhB,CAAqBkB,WAArB,CAAiC,GAAjC,CAAlC,IAA2E,aAAc,MAAKV,CAAE,MAAKC,CAAE,MAAKF,CAAE,MAAKY,UAAUT,CAAV,CAAa,wBADrI;AAEA,SAAOb,GAAP;AACD,C,CAED;;;AACAC,OAAOsB,WAAP,GAAqB,UAAUC,KAAV,EAAiB;AACpCR,WAASC,aAAT,CAAuB,QAAvB,EAAiCQ,aAAjC,CAA+CC,WAA/C,CAA2D;AACzD,aAASF;AADgD,GAA3D,EAEG,GAFH;AAGD,CAJD;;AAKAvB,OAAO0B,SAAP,GAAmB,UAAUC,CAAV,EAAa;AAC9B,MAAIC,OAAOD,EAAEC,IAAb;;AACA,MAAIA,KAAKC,QAAT,EAAmB;AACjBjB,QAAIgB,KAAKC,QAAT;AACAd,aAASC,aAAT,CAAuB,WAAvB,EAAoCc,KAApC,GAA4ClB,CAA5C;AACD;AACF,CAND","sourceRoot":"C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019","sourcesContent":["function getURLParameter(name, url = window.location.href) {\r\n  name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\r\n  var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\r\n    results = regex.exec(url);\r\n  if (!results || !results[2]) return null;\r\n  return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\r\n}\r\n\r\n// set defaults\r\nlet s = [];\r\nlet m = '';\r\nlet y = 2016;\r\nlet t = '';\r\n\r\n\r\n// Get URL arguments if passed\r\n//     m   metric number\r\n//     y   year\r\n//     s   selected\r\n//     t   map title\r\nm = '1';\r\nif (getURLParameter(\"m\")) {\r\n  let passedMetric = getURLParameter(\"m\");\r\n  m = passedMetric;\r\n}\r\nif (getURLParameter('y') !== null) {\r\n  y = getURLParameter('y');\r\n}\r\nif (getURLParameter('s') !== null) {\r\n  s = getURLParameter('s').split(\",\");\r\n}\r\nif (getURLParameter('t') !== null) {\r\n  t = getURLParameter('t');\r\n}\r\n\r\n// set iframe src\r\ndocument.querySelector('.embed iframe').src = setURL(m, y, s, t);\r\n\r\n\r\n// URL for the iframe\r\nfunction setURL(m, y, s, t) {\r\n  let url =\r\n    `${window.location.href.substring(0, window.location.href.lastIndexOf(\"/\")) + '/embed.html'}?m=${m}&y=${y}&s=${s}&t=${encodeURI(t)}&tocp=true&pitch=false`;\r\n  return url;\r\n}\r\n\r\n// parent/iframe communications\r\nwindow.titleChange = function (title) {\r\n  document.querySelector(\"iframe\").contentWindow.postMessage({\r\n    \"title\": title\r\n  }, '*');\r\n};\r\nwindow.onmessage = function (e) {\r\n  let data = e.data;\r\n  if (data.maptitle) {\r\n    t = data.maptitle;\r\n    document.querySelector(\"#maptitle\").value = t;\r\n  }\r\n};"]}]}