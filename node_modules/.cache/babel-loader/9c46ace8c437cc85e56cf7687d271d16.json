{"remainingRequest":"C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\src\\js\\geojsondatamerge.js","dependencies":[{"path":"C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\src\\js\\geojsondatamerge.js","mtime":1582990926052},{"path":"C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGlzTnVtZXJpYyBmcm9tICcuL2lzbnVtZXJpYyc7CmltcG9ydCB7IHZhbHNUb0FycmF5IH0gZnJvbSAnLi9tZXRyaWNfY2FsY3VsYXRpb25zJzsKCmZ1bmN0aW9uIGdlb2pzb25EYXRhTWVyZ2UoZywgZCwgeSkgewogIC8vIGdldCBhcnJheSBtYXgKICB2YXIgdmFsc0FycmF5ID0gdmFsc1RvQXJyYXkoZCwgW3ldLCBPYmplY3Qua2V5cyhkKSk7CiAgdmFyIGhlaWdodEZhY3RvciA9IDUwMDAgLyBNYXRoLm1heC5hcHBseShNYXRoLCB2YWxzQXJyYXkpOwoKICBmb3IgKHZhciBpID0gMDsgaSA8IGcuZmVhdHVyZXMubGVuZ3RoOyBpKyspIHsKICAgIGlmIChpc051bWVyaWMoZFtnLmZlYXR1cmVzW2ldLnByb3BlcnRpZXMuaWRdWyJ5XyIuY29uY2F0KHkpXSkpIHsKICAgICAgZy5mZWF0dXJlc1tpXS5wcm9wZXJ0aWVzLmNob3JvcGxldGggPSBkW2cuZmVhdHVyZXNbaV0ucHJvcGVydGllcy5pZF1bInlfIi5jb25jYXQoeSldOwogICAgICBnLmZlYXR1cmVzW2ldLnByb3BlcnRpZXMuaGVpZ2h0ID0gZFtnLmZlYXR1cmVzW2ldLnByb3BlcnRpZXMuaWRdWyJ5XyIuY29uY2F0KHkpXSAqIGhlaWdodEZhY3RvcjsKICAgIH0gZWxzZSB7CiAgICAgIGcuZmVhdHVyZXNbaV0ucHJvcGVydGllcy5jaG9yb3BsZXRoID0gJ251bGwnOwogICAgICBnLmZlYXR1cmVzW2ldLnByb3BlcnRpZXMuaGVpZ2h0ID0gJ251bGwnOwogICAgfQogIH0KCiAgcmV0dXJuIGc7Cn0KCmV4cG9ydCBkZWZhdWx0IGdlb2pzb25EYXRhTWVyZ2U7"},{"version":3,"sources":["C:/Users/yz.liu/Desktop/Experiment/COVID2019/src/js/geojsondatamerge.js"],"names":["isNumeric","valsToArray","geojsonDataMerge","g","d","y","valsArray","Object","keys","heightFactor","Math","max","apply","i","features","length","properties","id","choropleth","height"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,aAAtB;AACA,SAAQC,WAAR,QAA0B,uBAA1B;;AAEA,SAASC,gBAAT,CAA0BC,CAA1B,EAA6BC,CAA7B,EAAgCC,CAAhC,EAAmC;AAC/B;AACA,MAAIC,SAAS,GAAGL,WAAW,CAACG,CAAD,EAAI,CAACC,CAAD,CAAJ,EAASE,MAAM,CAACC,IAAP,CAAYJ,CAAZ,CAAT,CAA3B;AACA,MAAIK,YAAY,GAAG,OAAOC,IAAI,CAACC,GAAL,CAASC,KAAT,CAAeF,IAAf,EAAqBJ,SAArB,CAA1B;;AAEA,OAAK,IAAIO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGV,CAAC,CAACW,QAAF,CAAWC,MAA/B,EAAuCF,CAAC,EAAxC,EAA4C;AACxC,QAAIb,SAAS,CAACI,CAAC,CAACD,CAAC,CAACW,QAAF,CAAWD,CAAX,EAAcG,UAAd,CAAyBC,EAA1B,CAAD,aAAoCZ,CAApC,EAAD,CAAb,EAAyD;AACrDF,MAAAA,CAAC,CAACW,QAAF,CAAWD,CAAX,EAAcG,UAAd,CAAyBE,UAAzB,GAAsCd,CAAC,CAACD,CAAC,CAACW,QAAF,CAAWD,CAAX,EAAcG,UAAd,CAAyBC,EAA1B,CAAD,aAAoCZ,CAApC,EAAtC;AACAF,MAAAA,CAAC,CAACW,QAAF,CAAWD,CAAX,EAAcG,UAAd,CAAyBG,MAAzB,GAAkCf,CAAC,CAACD,CAAC,CAACW,QAAF,CAAWD,CAAX,EAAcG,UAAd,CAAyBC,EAA1B,CAAD,aAAoCZ,CAApC,KAA2CI,YAA7E;AACH,KAHD,MAGQ;AACJN,MAAAA,CAAC,CAACW,QAAF,CAAWD,CAAX,EAAcG,UAAd,CAAyBE,UAAzB,GAAsC,MAAtC;AACAf,MAAAA,CAAC,CAACW,QAAF,CAAWD,CAAX,EAAcG,UAAd,CAAyBG,MAAzB,GAAkC,MAAlC;AACH;AACJ;;AACD,SAAOhB,CAAP;AACH;;AAED,eAAeD,gBAAf","sourcesContent":["import isNumeric from './isnumeric';\r\nimport {valsToArray} from './metric_calculations';\r\n\r\nfunction geojsonDataMerge(g, d, y) {\r\n    // get array max\r\n    let valsArray = valsToArray(d, [y], Object.keys(d));\r\n    let heightFactor = 5000 / Math.max.apply(Math, valsArray);\r\n\r\n    for (let i = 0; i < g.features.length; i++) {\r\n        if (isNumeric(d[g.features[i].properties.id][`y_${y}`])) {\r\n            g.features[i].properties.choropleth = d[g.features[i].properties.id][`y_${y}`];\r\n            g.features[i].properties.height = d[g.features[i].properties.id][`y_${y}`] * heightFactor;\r\n        } else  {\r\n            g.features[i].properties.choropleth = 'null';\r\n            g.features[i].properties.height = 'null';\r\n        }\r\n    }\r\n    return g;\r\n}\r\n\r\nexport default geojsonDataMerge;\r\n"]}]}