{"remainingRequest":"C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\src\\components\\map.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\src\\components\\map.vue","mtime":1583011089734},{"path":"C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yz.liu\\Desktop\\Experiment\\COVID2019\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkM6XFxVc2Vyc1xceXoubGl1XFxEZXNrdG9wXFxFeHBlcmltZW50XFxDT1ZJRDIwMTlcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IG1hcGJveGdsIGZyb20gJ21hcGJveC1nbCc7CmltcG9ydCBnZW9qc29uRGF0YU1lcmdlIGZyb20gJy4uL2pzL2dlb2pzb25kYXRhbWVyZ2UnOwppbXBvcnQgeyBwcmV0dHlOdW1iZXIgfSBmcm9tICcuLi9qcy9udW1iZXJfZm9ybWF0JzsKaW1wb3J0IGdldFVSTFBhcmFtZXRlciBmcm9tICcuLi9qcy9nZXR1cmxwYXJhbXMnOwppbXBvcnQgeyBzY2FsZUxpbmVhciB9IGZyb20gJ2QzLXNjYWxlJzsKaW1wb3J0IGdlb2cgZnJvbSAnLi4vLi4vZGF0YS9nZW9ncmFwaHkuZ2VvanNvbi5qc29uJzsKaW1wb3J0IHZpcm91c2dlb2cgZnJvbSAnLi4vLi4vZGF0YS9jb25maWcvQ09WSUQuZ2VvanNvbi5qc29uJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdzYy1tYXAnLAogIHdhdGNoOiB7CiAgICAnc2hhcmVkU3RhdGUuc2VsZWN0ZWQnOiAnc2VsZWN0TmVpZ2hib3Job29kcycsCiAgICAnc2hhcmVkU3RhdGUueWVhcic6ICd1cGRhdGVZZWFyJywKICAgICdzaGFyZWRTdGF0ZS5zZWxlY3RlZCc6ICdzdHlsZU5laWdoYm9yaG9vZHMnLAogICAgJ3NoYXJlZFN0YXRlLmhpZ2hsaWdodCc6ICdzdHlsZU5laWdoYm9yaG9vZHMnCiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0TWFwOiBmdW5jdGlvbiBpbml0TWFwKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgX3RoaXMucHJpdmF0ZVN0YXRlLm1hcCA9IG5ldyBtYXBib3hnbC5NYXAoX3RoaXMucHJpdmF0ZVN0YXRlLm1hcE9wdGlvbnMpOwogICAgICB2YXIgbWFwID0gX3RoaXMucHJpdmF0ZVN0YXRlLm1hcDsgLy8gYWRkIG5hdiBjb250cm9sCgogICAgICB2YXIgbmF2ID0gbmV3IG1hcGJveGdsLk5hdmlnYXRpb25Db250cm9sKCk7CiAgICAgIG1hcC5hZGRDb250cm9sKG5hdiwgJ3RvcC1yaWdodCcpOyAvLyBQaXRjaCBjb250cm9sCgogICAgICBjbGFzcyBQaXRjaENvbnRyb2wgewogICAgICAgIGNvbnN0cnVjdG9yKCkgewogICAgICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJvblBpdGNoIiwgKCkgPT4gewogICAgICAgICAgICB2YXIgcGl0Y2ggPSB0aGlzLl9tYXAuZ2V0UGl0Y2goKTsKCiAgICAgICAgICAgIHZhciBpczNETW9kZSA9IHBpdGNoID4gNTsKCiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnLCBpczNETW9kZSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIG9uQWRkKG1hcCkgewogICAgICAgICAgdGhpcy5fbWFwID0gbWFwOwogICAgICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9ICdtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtZ3JvdXAnOwogICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICc8YnV0dG9uIGNsYXNzPSJtYXBib3hnbC1jdHJsLWljb24gbWFwYm94Z2wtY3RybC1jdXN0b20tcGl0Y2giIHR5cGU9ImJ1dHRvbiI+PHNwYW4+M0Q8L3NwYW4+PC9idXR0b24+JzsKCiAgICAgICAgICBjb250YWluZXIub25jbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHBpdGNoID0gbWFwLmdldFBpdGNoKCk7CiAgICAgICAgICAgIHZhciB6b29tID0gbWFwLmdldFpvb20oKTsKICAgICAgICAgICAgdmFyIG5leHRQaXRjaCA9IDA7CiAgICAgICAgICAgIGlmIChwaXRjaCA8PSA1KSBuZXh0UGl0Y2ggPSAzMDsKCiAgICAgICAgICAgIGlmIChwaXRjaCA8IDUpIHsKICAgICAgICAgICAgICBtYXAuZmx5VG8oewogICAgICAgICAgICAgICAgcGl0Y2g6IG5leHRQaXRjaCAvL3pvb206IDgsCgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgnbmVpZ2hib3Job29kcycsICd2aXNpYmlsaXR5JywgJ25vbmUnKTsKICAgICAgICAgICAgICBtYXAubW92ZUxheWVyKCduZWlnaGJvcmhvb2RzLWZpbGwtZXh0cnVkZScpOwogICAgICAgICAgICAgIG1hcC5zZXRQYWludFByb3BlcnR5KCduZWlnaGJvcmhvb2RzLWZpbGwtZXh0cnVkZScsICdmaWxsLWV4dHJ1c2lvbi1oZWlnaHQnLCBfdGhpcy5nZXRIZWlnaHQoKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgbWFwLmVhc2VUbyh7CiAgICAgICAgICAgICAgICBwaXRjaDogbmV4dFBpdGNoCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KCduZWlnaGJvcmhvb2RzJywgJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpOwogICAgICAgICAgICAgIG1hcC5tb3ZlTGF5ZXIoJ25laWdoYm9yaG9vZHMtZmlsbC1leHRydWRlJywgJ2J1aWxkaW5nJyk7CiAgICAgICAgICAgICAgbWFwLnNldFBhaW50UHJvcGVydHkoJ25laWdoYm9yaG9vZHMtZmlsbC1leHRydWRlJywgJ2ZpbGwtZXh0cnVzaW9uLWhlaWdodCcsIDApOwogICAgICAgICAgICB9CiAgICAgICAgICB9OwoKICAgICAgICAgIG1hcC5vbigncGl0Y2hlbmQnLCB0aGlzLm9uUGl0Y2gpOwogICAgICAgICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyOwogICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjsKICAgICAgICB9CgogICAgICAgIG9uUmVtb3ZlKCkgewogICAgICAgICAgdGhpcy5fY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fY29udGFpbmVyKTsKCiAgICAgICAgICB0aGlzLl9tYXAub2ZmKCdwaXRjaGVuZCcsIHRoaXMub25QaXRjaCk7CgogICAgICAgICAgdGhpcy5fbWFwID0gdW5kZWZpbmVkOwogICAgICAgIH0KCiAgICAgIH0KCiAgICAgIDsKICAgICAgbWFwLmFkZENvbnRyb2wobmV3IFBpdGNoQ29udHJvbCgpLCAndG9wLXJpZ2h0Jyk7IC8vIGRpc2FibGUgbWFwIHJvdGF0aW9uIHVzaW5nIHJpZ2h0IGNsaWNrICsgZHJhZyBhbmQgdG91Y2gKCiAgICAgIGlmIChfdGhpcy5wcml2YXRlU3RhdGUucGl0Y2ggPT09IGZhbHNlKSB7CiAgICAgICAgLy9tYXAuZHJhZ1JvdGF0ZS5kaXNhYmxlKCk7CiAgICAgICAgbWFwLnRvdWNoWm9vbVJvdGF0ZS5kaXNhYmxlUm90YXRpb24oKTsKICAgICAgfSAvLyBhZnRlciBtYXAgaW5pdGlhdGVkLCBncmFiIGdlb2dyYXBoeSBhbmQgaW50aWF0ZS9zdHlsZSBuZWlnaGJvcmhvb2RzCgoKICAgICAgbWFwLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLnByaXZhdGVTdGF0ZS5tYXBMb2FkZWQgPSB0cnVlOwogICAgICAgIF90aGlzLnByaXZhdGVTdGF0ZS5nZW9KU09OID0gZ2VvZzsKCiAgICAgICAgX3RoaXMuaW5pdE5laWdoYm9yaG9vZHMoKTsKCiAgICAgICAgX3RoaXMuc3R5bGVOZWlnaGJvcmhvb2RzKCk7CgogICAgICAgIF90aGlzLmluaXRNYXBFdmVudHMoKTsKCiAgICAgICAgaWYgKF90aGlzLnNoYXJlZFN0YXRlLnNlbGVjdGVkLmxlbmd0aCA+IDApIHsKICAgICAgICAgIF90aGlzLnpvb21OZWlnaGJvcmhvb2RzKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBpbml0TWFwRXZlbnRzOiBmdW5jdGlvbiBpbml0TWFwRXZlbnRzKCkgewogICAgICB2YXIgbWFwID0gdGhpcy5wcml2YXRlU3RhdGUubWFwOwoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBwb3B1cCA9IG5ldyBtYXBib3hnbC5Qb3B1cCh7CiAgICAgICAgY2xvc2VCdXR0b246IGZhbHNlLAogICAgICAgIGNsb3NlT25DbGljazogZmFsc2UKICAgICAgfSk7CiAgICAgIG1hcC5vbignbW91c2Vtb3ZlJywgJ25laWdoYm9yaG9vZHMtZmlsbC1leHRydWRlJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICBtYXAuZ2V0Q2FudmFzKCkuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInOwogICAgICAgIHZhciBmZWF0dXJlID0gZS5mZWF0dXJlc1swXTsKICAgICAgICBwb3B1cC5zZXRMbmdMYXQobWFwLnVucHJvamVjdChlLnBvaW50KSkuc2V0SFRNTCgiPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luOiAwOyBwYWRkaW5nOiAwO1wiPlxuXHRcdFx0VXJiYW4gWm9uZTogIi5jb25jYXQoZmVhdHVyZS5wcm9wZXJ0aWVzLlNVQlpPTkVfTiwgIjwvZGl2Plx0XHRcdFxuXHRcdFx0PGRpdiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luOiAwOyBwYWRkaW5nOiAwO1wiPiBQbGFuIEFyZWE6ICIpLmNvbmNhdChmZWF0dXJlLnByb3BlcnRpZXMuUExOX0FSRUFfTiwgIjwvZGl2PlxuXHRcdFx0PGRpdiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luOiAwOyBwYWRkaW5nOiAwO1wiPiBQb3B1bGF0aW9uOiAiKS5jb25jYXQoZmVhdHVyZS5wcm9wZXJ0aWVzLlRPVEFMLCAiPC9kaXY+IikpLmFkZFRvKG1hcCk7CiAgICAgIH0pOwogICAgICBtYXAub24oJ21vdXNlbGVhdmUnLCAnbmVpZ2hib3Job29kcy1maWxsLWV4dHJ1ZGUnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgbWFwLmdldENhbnZhcygpLnN0eWxlLmN1cnNvciA9ICcnOwogICAgICAgIHBvcHVwLnJlbW92ZSgpOwogICAgICB9KTsKICAgICAgbWFwLm9uKCdtb3VzZW1vdmUnLCAnbWFya2VycycsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgbWFwLmdldENhbnZhcygpLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJzsKICAgICAgICB2YXIgZmVhdHVyZSA9IGUuZmVhdHVyZXNbMF07CiAgICAgICAgcG9wdXAuc2V0TG5nTGF0KG1hcC51bnByb2plY3QoZS5wb2ludCkpLnNldEhUTUwoIjxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbjogMDsgcGFkZGluZzogMDsgZm9udC13ZWlnaHQ6IGJvbGRcIj5cblx0XHRcdENhc2UgTnVtOiAiLmNvbmNhdChmZWF0dXJlLnByb3BlcnRpZXMuY2FzZV9udW0sICI8L2Rpdj5cdFx0XHRcblx0XHRcdDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBsZWZ0OyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7XCI+IEFnZTogIikuY29uY2F0KGZlYXR1cmUucHJvcGVydGllcy5hZ2UsICI8L2Rpdj5cblx0XHRcdDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBsZWZ0OyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7XCI+IEdlbmRlcjogIikuY29uY2F0KGZlYXR1cmUucHJvcGVydGllcy5nZW5kZXIsICI8L2Rpdj5cblx0XHRcdDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBsZWZ0OyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7XCI+IERhdGUgQ29uZmlybWVkOiAiKS5jb25jYXQoZmVhdHVyZS5wcm9wZXJ0aWVzLmRhdGUsICI8L2Rpdj5cblx0XHRcdDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBsZWZ0OyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7XCI+IERhdGUgRGlzY2hhcmdlZDogIikuY29uY2F0KGZlYXR1cmUucHJvcGVydGllc1siZGF0ZSBkaXNjaGFyZ2VkIl0sICI8L2Rpdj5cblx0XHRcdDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBsZWZ0OyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7XCI+IEhvc3BpdGFsIENvbmZpcm1lZDogIikuY29uY2F0KGZlYXR1cmUucHJvcGVydGllc1siaG9zcGl0YWwgY29uZmlybWVkIl0sICI8L2Rpdj5cblx0XHRcdDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBsZWZ0OyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7XCI+IFN0YXkgTG9jYXRpb246ICIpLmNvbmNhdChmZWF0dXJlLnByb3BlcnRpZXNbInN0YXllZCBhdCJdLCAiPC9kaXY+IikpLmFkZFRvKG1hcCk7CiAgICAgIH0pOwogICAgICBtYXAub24oJ21vdXNlbGVhdmUnLCAnbWFya2VycycsIGZ1bmN0aW9uICgpIHsKICAgICAgICBtYXAuZ2V0Q2FudmFzKCkuc3R5bGUuY3Vyc29yID0gJyc7CiAgICAgICAgcG9wdXAucmVtb3ZlKCk7CiAgICAgIH0pOwogICAgICBtYXAub24oJ3JvdGF0ZScsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKG1hcC5nZXRQaXRjaCgpID49IDIwKSB7CiAgICAgICAgICBfdGhpcy50b2dnbGUzRCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy50b2dnbGUzRCgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdG9nZ2xlM0Q6IGZ1bmN0aW9uIHRvZ2dsZTNEKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIG1hcCA9IF90aGlzLnByaXZhdGVTdGF0ZS5tYXA7CiAgICAgIHZhciBwaXRjaGVkOwogICAgICBtYXAuZ2V0UGl0Y2goKSA+PSAyMCA/IHBpdGNoZWQgPSB0cnVlIDogcGl0Y2hlZCA9IGZhbHNlOwoKICAgICAgaWYgKHBpdGNoZWQpIHsKICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoJ25laWdoYm9yaG9vZHMnLCAndmlzaWJpbGl0eScsICdub25lJyk7CiAgICAgICAgbWFwLm1vdmVMYXllcignbmVpZ2hib3Job29kcy1maWxsLWV4dHJ1ZGUnKTsKICAgICAgICBtYXAuc2V0UGFpbnRQcm9wZXJ0eSgnbmVpZ2hib3Job29kcy1maWxsLWV4dHJ1ZGUnLCAnZmlsbC1leHRydXNpb24taGVpZ2h0JywgX3RoaXMuZ2V0SGVpZ2h0KCkpOwogICAgICB9IGVsc2UgewogICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgnbmVpZ2hib3Job29kcycsICd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTsKICAgICAgICBtYXAubW92ZUxheWVyKCduZWlnaGJvcmhvb2RzLWZpbGwtZXh0cnVkZScsICdidWlsZGluZycpOwogICAgICAgIG1hcC5zZXRQYWludFByb3BlcnR5KCduZWlnaGJvcmhvb2RzLWZpbGwtZXh0cnVkZScsICdmaWxsLWV4dHJ1c2lvbi1oZWlnaHQnLCAwKTsKICAgICAgfQogICAgfSwKICAgIGluaXROZWlnaGJvcmhvb2RzOiBmdW5jdGlvbiBpbml0TmVpZ2hib3Job29kcygpIHsKICAgICAgdmFyIG1hcCA9IHRoaXMucHJpdmF0ZVN0YXRlLm1hcDsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZ2VvSlNPTiA9IF90aGlzLnByaXZhdGVTdGF0ZS5nZW9KU09OOwogICAgICBtYXAuYWRkU291cmNlKCduZWlnaGJvcmhvb2RzJywgewogICAgICAgIHR5cGU6ICdnZW9qc29uJywKICAgICAgICBkYXRhOiBnZW9KU09OCiAgICAgIH0pOyAvLyBuZWlnaGJvcmhvb2QgYm91bmRhcmllcwoKICAgICAgbWFwLmFkZExheWVyKHsKICAgICAgICBpZDogJ25laWdoYm9yaG9vZHMnLAogICAgICAgIHR5cGU6ICdsaW5lJywKICAgICAgICBzb3VyY2U6ICduZWlnaGJvcmhvb2RzJywKICAgICAgICBsYXlvdXQ6IHt9LAogICAgICAgIHBhaW50OiB7fQogICAgICB9LCAncGxhY2Vfb3RoZXInKTsKICAgICAgbWFwLmFkZExheWVyKHsKICAgICAgICBpZDogJ25laWdoYm9yaG9vZHMtZmlsbC1leHRydWRlJywKICAgICAgICB0eXBlOiAnZmlsbC1leHRydXNpb24nLAogICAgICAgIHNvdXJjZTogJ25laWdoYm9yaG9vZHMnLAogICAgICAgIC8vJ2ZpbHRlcic6IFsnIT0nLCAnY2hvcm9wbGV0aCcsICdudWxsJ10sCiAgICAgICAgcGFpbnQ6IHsKICAgICAgICAgICdmaWxsLWV4dHJ1c2lvbi1vcGFjaXR5JzogMC43CiAgICAgICAgfQogICAgICB9LCAnYnVpbGRpbmcnKTsgLy8gbWFya2VycyBsYXllcgoKICAgICAgbWFwLmFkZFNvdXJjZSgnbWFya2VycycsIHsKICAgICAgICB0eXBlOiAnZ2VvanNvbicsCiAgICAgICAgZGF0YTogdmlyb3VzZ2VvZwogICAgICB9KTsKICAgICAgbWFwLmFkZExheWVyKHsKICAgICAgICBpZDogJ21hcmtlcnMnLAogICAgICAgIHR5cGU6ICdjaXJjbGUnLAogICAgICAgIHNvdXJjZTogJ21hcmtlcnMnLAoKICAgICAgICAvKiBsYXlvdXQ6IHsNCiAgICAgICAgICAnaWNvbi1pbWFnZSc6ICdjaXJjbGUtMTEnLA0KICAgICAgICAgICdpY29uLXNpemUnOiAxLjAsDQogICAgICAgICAgICAgIH0gKi8KICAgICAgICBwYWludDogewogICAgICAgICAgJ2NpcmNsZS1yYWRpdXMnOiA4LAogICAgICAgICAgJ2NpcmNsZS1jb2xvcic6ICcjZmYwMDAwJwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIG1hcC5zZXRQaXRjaCgzMCk7CiAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgnbmVpZ2hib3Job29kcycsICd2aXNpYmlsaXR5JywgJ25vbmUnKTsKICAgICAgbWFwLm1vdmVMYXllcignbmVpZ2hib3Job29kcy1maWxsLWV4dHJ1ZGUnKTsKICAgICAgbWFwLnNldFBhaW50UHJvcGVydHkoJ25laWdoYm9yaG9vZHMtZmlsbC1leHRydWRlJywgJ2ZpbGwtZXh0cnVzaW9uLWhlaWdodCcsIF90aGlzLmdldEhlaWdodCgpKTsKICAgIH0sCiAgICBzZWxlY3ROZWlnaGJvcmhvb2RzOiBmdW5jdGlvbiBzZWxlY3ROZWlnaGJvcmhvb2RzKCkgewogICAgICBpZiAodGhpcy5wcml2YXRlU3RhdGUubWFwTG9hZGVkID09PSB0cnVlKSB7CiAgICAgICAgdmFyIG1hcCA9IHRoaXMucHJpdmF0ZVN0YXRlLm1hcDsKICAgICAgICB2YXIgc2VsZWN0ZWQgPSB0aGlzLnNoYXJlZFN0YXRlLnNlbGVjdGVkOwogICAgICAgIHZhciBmaWx0ZXI7CgogICAgICAgIGlmIChzZWxlY3RlZC5sZW5ndGggPiAwKSB7CiAgICAgICAgICBmaWx0ZXIgPSBbJ2luJywgJ2lkJ107CgogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3RlZC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBmaWx0ZXIucHVzaChzZWxlY3RlZFtpXSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGZpbHRlciA9IFsnaW4nLCAnaWQnLCAnLTk5OTk5OSddOwogICAgICAgIH0gLy8gcHVzaCBzZWxlY3RlZCBzdGF0ZQoKCiAgICAgICAgdmFyIGxpbmtNZXRyaWMgPSAnJzsKCiAgICAgICAgaWYgKGdldFVSTFBhcmFtZXRlcignbScpKSB7CiAgICAgICAgICBsaW5rTWV0cmljID0gZ2V0VVJMUGFyYW1ldGVyKCdtJyk7CiAgICAgICAgfQoKICAgICAgICBtYXAuc2V0RmlsdGVyKCduZWlnaGJvcmhvb2RzLWxpbmUtc2VsZWN0ZWQnLCBmaWx0ZXIpOwogICAgICAgIG1hcC5zZXRGaWx0ZXIoJ25laWdoYm9yaG9vZHMtZmlsbC1zZWxlY3RlZCcsIGZpbHRlcik7CiAgICAgIH0KICAgIH0sCiAgICBzdHlsZU5laWdoYm9yaG9vZHM6IGZ1bmN0aW9uIHN0eWxlTmVpZ2hib3Job29kcygpIHsKICAgICAgdmFyIG1hcCA9IHRoaXMucHJpdmF0ZVN0YXRlLm1hcDsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBtYXAuc2V0UGFpbnRQcm9wZXJ0eSgnbmVpZ2hib3Job29kcy1maWxsLWV4dHJ1ZGUnLCAnZmlsbC1leHRydXNpb24tY29sb3InLCBfdGhpcy5nZXRDb2xvcnMoKSk7CiAgICAgIG1hcC5zZXRQYWludFByb3BlcnR5KCduZWlnaGJvcmhvb2RzJywgJ2xpbmUtY29sb3InLCBfdGhpcy5nZXRPdXRsaW5lQ29sb3IoKSk7CiAgICAgIG1hcC5zZXRQYWludFByb3BlcnR5KCduZWlnaGJvcmhvb2RzJywgJ2xpbmUtd2lkdGgnLCBfdGhpcy5nZXRPdXRsaW5lV2lkdGgoKSk7CgogICAgICBpZiAoX3RoaXMucHJpdmF0ZVN0YXRlLmlzUGl0Y2hlZDNEKSB7CiAgICAgICAgbWFwLnNldFBhaW50UHJvcGVydHkoJ25laWdoYm9yaG9vZHMtZmlsbC1leHRydWRlJywgJ2ZpbGwtZXh0cnVzaW9uLWhlaWdodCcsIF90aGlzLmdldEhlaWdodCgpKTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZUNob3JvcGxldGg6IGZ1bmN0aW9uIHVwZGF0ZUNob3JvcGxldGgoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5wcml2YXRlU3RhdGUubWFwTG9hZGVkKSB7CiAgICAgICAgdGhpcy5zdHlsZU5laWdoYm9yaG9vZHMoKTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZUJyZWFrczogZnVuY3Rpb24gdXBkYXRlQnJlYWtzKCkgewogICAgICB0aGlzLnByaXZhdGVTdGF0ZS5tZXRyaWNJZCA9IHRoaXMuc2hhcmVkU3RhdGUubWV0cmljSWQ7CiAgICAgIHRoaXMudXBkYXRlQ2hvcm9wbGV0aCgpOwogICAgfSwKICAgIHVwZGF0ZVllYXI6IGZ1bmN0aW9uIHVwZGF0ZVllYXIoKSB7CiAgICAgIGlmICh0aGlzLnNoYXJlZFN0YXRlLm1ldHJpY0lkID09PSB0aGlzLnByaXZhdGVTdGF0ZS5tZXRyaWNJZCkgewogICAgICAgIHRoaXMudXBkYXRlQ2hvcm9wbGV0aCgpOwogICAgICB9CiAgICB9LAogICAgZ2VvSlNPTk1lcmdlOiBmdW5jdGlvbiBnZW9KU09OTWVyZ2UoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZ2VvT2JqID0gZ2VvanNvbkRhdGFNZXJnZShfdGhpcy5wcml2YXRlU3RhdGUuZ2VvSlNPTiwgX3RoaXMuc2hhcmVkU3RhdGUubWV0cmljLmRhdGEubWFwLCBfdGhpcy5zaGFyZWRTdGF0ZS55ZWFyKTsKICAgICAgcmV0dXJuIGdlb09iajsKICAgIH0sCiAgICBnZXRGdWxsQm91bmRzOiBmdW5jdGlvbiBnZXRGdWxsQm91bmRzKCkgewogICAgICB2YXIgYm91bmRzID0gbmV3IG1hcGJveGdsLkxuZ0xhdEJvdW5kcygpOwoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMucHJpdmF0ZVN0YXRlLmdlb0pTT04uZmVhdHVyZXMuZm9yRWFjaChmdW5jdGlvbiAoZmVhdHVyZSkgewogICAgICAgIGZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXMuZm9yRWFjaChmdW5jdGlvbiAoY29vcmQpIHsKICAgICAgICAgIGNvb3JkLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgIGJvdW5kcy5leHRlbmQoZWwpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gYm91bmRzOwogICAgfSwKICAgIHpvb21OZWlnaGJvcmhvb2RzOiBmdW5jdGlvbiB6b29tTmVpZ2hib3Job29kcygpIHsKICAgICAgdmFyIGJvdW5kcyA9IG5ldyBtYXBib3hnbC5MbmdMYXRCb3VuZHMoKTsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLnByaXZhdGVTdGF0ZS5nZW9KU09OLmZlYXR1cmVzLmZvckVhY2goZnVuY3Rpb24gKGZlYXR1cmUpIHsKICAgICAgICBpZiAoX3RoaXMuc2hhcmVkU3RhdGUuc2VsZWN0ZWQuaW5kZXhPZihmZWF0dXJlLnByb3BlcnRpZXMuaWQpICE9PSAtMSkgewogICAgICAgICAgZmVhdHVyZS5nZW9tZXRyeS5jb29yZGluYXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChjb29yZCkgewogICAgICAgICAgICBjb29yZC5mb3JFYWNoKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgICAgIGJvdW5kcy5leHRlbmQoZWwpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMucHJpdmF0ZVN0YXRlLm1hcC5maXRCb3VuZHMoYm91bmRzLCB7CiAgICAgICAgcGFkZGluZzogMTAwCiAgICAgIH0pOwogICAgfSwKICAgIGdldE91dGxpbmVDb2xvcjogZnVuY3Rpb24gZ2V0T3V0bGluZUNvbG9yKCkgewogICAgICB2YXIgc3RvcHMgPSBbXTsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBfdGhpcy5zaGFyZWRTdGF0ZS5zZWxlY3RlZC5mb3JFYWNoKGlkID0+IHsKICAgICAgICBzdG9wcy5wdXNoKFtpZCwgJyNiYTAwZTQnXSk7CiAgICAgIH0pOwoKICAgICAgdmFyIG91dGxpbmUgPSB7CiAgICAgICAgcHJvcGVydHk6ICdPQkpFQ1RJRCcsCiAgICAgICAgZGVmYXVsdDogJ3JnYmEoMCwwLDAsMSknLAogICAgICAgIHR5cGU6ICdjYXRlZ29yaWNhbCcsCiAgICAgICAgc3RvcHM6IHN0b3BzCiAgICAgIH07CgogICAgICBpZiAoc3RvcHMubGVuZ3RoID4gMCkgewogICAgICAgIHJldHVybiBvdXRsaW5lOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBvdXRsaW5lLmRlZmF1bHQ7CiAgICAgIH0KICAgIH0sCiAgICBnZXRPdXRsaW5lV2lkdGg6IGZ1bmN0aW9uIGdldE91dGxpbmVXaWR0aCgpIHsKICAgICAgdmFyIHN0b3BzID0gW107CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgX3RoaXMuc2hhcmVkU3RhdGUuc2VsZWN0ZWQuZm9yRWFjaChpZCA9PiB7CiAgICAgICAgc3RvcHMucHVzaChbaWQsIDRdKTsKICAgICAgfSk7CgogICAgICB2YXIgb3V0bGluZVNpemUgPSB7CiAgICAgICAgcHJvcGVydHk6ICdPQkpFQ1RJRCcsCiAgICAgICAgZGVmYXVsdDogMC40LAogICAgICAgIHR5cGU6ICdjYXRlZ29yaWNhbCcsCiAgICAgICAgc3RvcHM6IHN0b3BzCiAgICAgIH07CgogICAgICBpZiAoc3RvcHMubGVuZ3RoID4gMCkgewogICAgICAgIHJldHVybiBvdXRsaW5lU2l6ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gb3V0bGluZVNpemUuZGVmYXVsdDsKICAgICAgfQoKICAgICAgcmV0dXJuIHN0b3BzOwogICAgfSwKICAgIGdldENvbG9yczogZnVuY3Rpb24gZ2V0Q29sb3JzKCkgewogICAgICB2YXIgc3RvcHMgPSBbXTsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZmVhdHVyZSA9IF90aGlzLnByaXZhdGVTdGF0ZS5nZW9KU09OLmZlYXR1cmVzOwogICAgICB2YXIgaWQgPSAxOwogICAgICB2YXIgZGF0YSA9IGZlYXR1cmU7CiAgICAgIHZhciBicmVha3MgPSBbMzEyNSwgNjI1MCwgMTI1MDAsIDI1MDAwLCA1MDAwMCwgMjAwMDAwXTsKICAgICAgX3RoaXMuc2hhcmVkU3RhdGUuYnJlYWtzID0gYnJlYWtzOwogICAgICB2YXIgY29sb3JzID0gdGhpcy5zaGFyZWRTdGF0ZS5jb2xvcnM7CgogICAgICB2YXIgY29sb3IgPSBmdW5jdGlvbiBjb2xvcih2YWwpIHsKICAgICAgICBpZiAodmFsIDw9IGJyZWFrc1sxXSkgewogICAgICAgICAgcmV0dXJuIGNvbG9yc1swXTsKICAgICAgICB9IGVsc2UgaWYgKHZhbCA8PSBicmVha3NbMl0pIHsKICAgICAgICAgIHJldHVybiBjb2xvcnNbMV07CiAgICAgICAgfSBlbHNlIGlmICh2YWwgPD0gYnJlYWtzWzNdKSB7CiAgICAgICAgICByZXR1cm4gY29sb3JzWzJdOwogICAgICAgIH0gZWxzZSBpZiAodmFsIDw9IGJyZWFrc1s0XSkgewogICAgICAgICAgcmV0dXJuIGNvbG9yc1szXTsKICAgICAgICB9IGVsc2UgaWYgKHZhbCA8PSBicmVha3NbNV0pIHsKICAgICAgICAgIHJldHVybiBjb2xvcnNbNF07CiAgICAgICAgfQogICAgICB9OwoKICAgICAgT2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaChpZCA9PiB7CiAgICAgICAgdmFyIHZhbHVlID0gX3RoaXMuc2hhcmVkU3RhdGUuaGlnaGxpZ2h0Lmxlbmd0aDsKCiAgICAgICAgaWYgKHZhbHVlICE9PSAwICYmIGlkIDwgdmFsdWUpIHsKICAgICAgICAgIHN0b3BzLnB1c2goW051bWJlcihfdGhpcy5zaGFyZWRTdGF0ZS5oaWdobGlnaHRbaWRdKSwgJyNGN0U1NUInXSk7CiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAwKSB7CiAgICAgICAgICBzdG9wcy5wdXNoKFtkYXRhW2lkXS5wcm9wZXJ0aWVzLk9CSkVDVElELCBjb2xvcihkYXRhW2lkXS5wcm9wZXJ0aWVzLlRPVEFMKV0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHZhciBmaWxsQ29sb3IgPSB7CiAgICAgICAgcHJvcGVydHk6ICdPQkpFQ1RJRCcsCiAgICAgICAgZGVmYXVsdDogJ3JnYigyNDIsMjQzLDI0MCknLAogICAgICAgIHR5cGU6ICdjYXRlZ29yaWNhbCcsCiAgICAgICAgc3RvcHM6IHN0b3BzCiAgICAgIH07CiAgICAgIHJldHVybiBmaWxsQ29sb3I7CiAgICB9LAogICAgZ2V0SGVpZ2h0OiBmdW5jdGlvbiBnZXRIZWlnaHQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgc3RvcHMgPSBbXTsKICAgICAgdmFyIGZlYXR1cmUgPSBfdGhpcy5wcml2YXRlU3RhdGUuZ2VvSlNPTi5mZWF0dXJlczsKICAgICAgdmFyIGlkID0gMTsKICAgICAgdmFyIGRhdGEgPSBmZWF0dXJlOwogICAgICB2YXIgaGJyZWFrcyA9IFszMTI1LCA2MjUwLCAxMjUwMCwgMjUwMDAsIDUwMDAwLCAyMDAwMDBdOwogICAgICBfdGhpcy5zaGFyZWRTdGF0ZS5icmVha3MgPSBoYnJlYWtzOwogICAgICB2YXIgaGVpZ2h0QWRqdXN0ID0gc2NhbGVMaW5lYXIoKS5kb21haW4oW2hicmVha3MsIGhicmVha3NbaGJyZWFrcy5sZW5ndGggLSAxXV0pLnJhbmdlKFswLCAyMDAwMDBdKTsKICAgICAgT2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaChpZCA9PiB7CiAgICAgICAgdmFyIHZhbHVlID0gZGF0YVtpZF0ucHJvcGVydGllcy5UT1RBTDsKCiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsKSB7CiAgICAgICAgICBzdG9wcy5wdXNoKFtkYXRhW2lkXS5wcm9wZXJ0aWVzLk9CSkVDVElELCB2YWx1ZSAvIDEwMF0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHZhciBoZWlnaHQgPSB7CiAgICAgICAgcHJvcGVydHk6ICdPQkpFQ1RJRCcsCiAgICAgICAgZGVmYXVsdDogMCwKICAgICAgICB0eXBlOiAnY2F0ZWdvcmljYWwnLAogICAgICAgIHN0b3BzOiBzdG9wcwogICAgICB9OwogICAgICByZXR1cm4gaGVpZ2h0OwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdE1hcCgpOwogIH0KfTs="},{"version":3,"sources":["map.vue"],"names":[],"mappings":";;;;;;;;AAOA,OAAA,QAAA,MAAA,WAAA;AACA,OAAA,gBAAA,MAAA,wBAAA;AACA,SACA,YADA,QAEA,qBAFA;AAGA,OAAA,eAAA,MAAA,oBAAA;AACA,SACA,WADA,QAEA,UAFA;AAGA,OAAA,IAAA,MAAA,mCAAA;AACA,OAAA,UAAA,MAAA,sCAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,KAAA,EAAA;AACA,4BAAA,qBADA;AAGA,wBAAA,YAHA;AAIA,4BAAA,oBAJA;AAKA,6BAAA;AALA,GAFA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,OAAA,EAAA,mBAAA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,MAAA,KAAA,CAAA,YAAA,CAAA,GAAA,GAAA,IAAA,QAAA,CAAA,GAAA,CAAA,KAAA,CAAA,YAAA,CAAA,UAAA,CAAA;AAEA,UAAA,GAAA,GAAA,KAAA,CAAA,YAAA,CAAA,GAAA,CAJA,CAMA;;AACA,UAAA,GAAA,GAAA,IAAA,QAAA,CAAA,iBAAA,EAAA;AACA,MAAA,GAAA,CAAA,UAAA,CAAA,GAAA,EAAA,WAAA,EARA,CAUA;;AACA,YAAA,YAAA,CAAA;AAAA;AAAA,2CAwCA,MAAA;AACA,gBAAA,KAAA,GAAA,KAAA,IAAA,CAAA,QAAA,EAAA;;AACA,gBAAA,QAAA,GAAA,KAAA,GAAA,CAAA;;AACA,iBAAA,UAAA,CAAA,SAAA,CAAA,MAAA,CAAA,QAAA,EAAA,QAAA;AACA,WA5CA;AAAA;;AACA,QAAA,KAAA,CAAA,GAAA,EAAA;AACA,eAAA,IAAA,GAAA,GAAA;AACA,cAAA,SAAA,GAAA,QAAA,CAAA,aAAA,CAAA,KAAA,CAAA;AACA,UAAA,SAAA,CAAA,SAAA,GAAA,mCAAA;AACA,UAAA,SAAA,CAAA,SAAA,GAAA,sGAAA;;AACA,UAAA,SAAA,CAAA,OAAA,GAAA,YAAA;AACA,gBAAA,KAAA,GAAA,GAAA,CAAA,QAAA,EAAA;AACA,gBAAA,IAAA,GAAA,GAAA,CAAA,OAAA,EAAA;AACA,gBAAA,SAAA,GAAA,CAAA;AACA,gBAAA,KAAA,IAAA,CAAA,EAAA,SAAA,GAAA,EAAA;;AACA,gBAAA,KAAA,GAAA,CAAA,EAAA;AACA,cAAA,GAAA,CAAA,KAAA,CAAA;AACA,gBAAA,KAAA,EAAA,SADA,CAEA;;AAFA,eAAA;AAIA,cAAA,GAAA,CAAA,iBAAA,CAAA,eAAA,EAAA,YAAA,EAAA,MAAA;AACA,cAAA,GAAA,CAAA,SAAA,CAAA,4BAAA;AACA,cAAA,GAAA,CAAA,gBAAA,CACA,4BADA,EAEA,uBAFA,EAGA,KAAA,CAAA,SAAA,EAHA;AAKA,aAZA,MAYA;AACA,cAAA,GAAA,CAAA,MAAA,CAAA;AACA,gBAAA,KAAA,EAAA;AADA,eAAA;AAGA,cAAA,GAAA,CAAA,iBAAA,CAAA,eAAA,EAAA,YAAA,EAAA,SAAA;AACA,cAAA,GAAA,CAAA,SAAA,CAAA,4BAAA,EAAA,UAAA;AACA,cAAA,GAAA,CAAA,gBAAA,CACA,4BADA,EAEA,uBAFA,EAGA,CAHA;AAKA;AACA,WA7BA;;AA8BA,UAAA,GAAA,CAAA,EAAA,CAAA,UAAA,EAAA,KAAA,OAAA;AACA,eAAA,UAAA,GAAA,SAAA;AACA,iBAAA,KAAA,UAAA;AACA;;AAMA,QAAA,QAAA,GAAA;AACA,eAAA,UAAA,CAAA,UAAA,CAAA,WAAA,CAAA,KAAA,UAAA;;AACA,eAAA,IAAA,CAAA,GAAA,CAAA,UAAA,EAAA,KAAA,OAAA;;AACA,eAAA,IAAA,GAAA,SAAA;AACA;;AAjDA;;AAkDA;AACA,MAAA,GAAA,CAAA,UAAA,CAAA,IAAA,YAAA,EAAA,EAAA,WAAA,EA9DA,CAgEA;;AACA,UAAA,KAAA,CAAA,YAAA,CAAA,KAAA,KAAA,KAAA,EAAA;AACA;AACA,QAAA,GAAA,CAAA,eAAA,CAAA,eAAA;AACA,OApEA,CAsEA;;;AACA,MAAA,GAAA,CAAA,EAAA,CAAA,MAAA,EAAA,YAAA;AACA,QAAA,KAAA,CAAA,YAAA,CAAA,SAAA,GAAA,IAAA;AACA,QAAA,KAAA,CAAA,YAAA,CAAA,OAAA,GAAA,IAAA;;AACA,QAAA,KAAA,CAAA,iBAAA;;AACA,QAAA,KAAA,CAAA,kBAAA;;AACA,QAAA,KAAA,CAAA,aAAA;;AAEA,YAAA,KAAA,CAAA,WAAA,CAAA,QAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,iBAAA;AACA;AACA,OAVA;AAYA,KApFA;AAqFA,IAAA,aAAA,EAAA,yBAAA;AACA,UAAA,GAAA,GAAA,KAAA,YAAA,CAAA,GAAA;;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,UAAA,KAAA,GAAA,IAAA,QAAA,CAAA,KAAA,CAAA;AACA,QAAA,WAAA,EAAA,KADA;AAEA,QAAA,YAAA,EAAA;AAFA,OAAA,CAAA;AAKA,MAAA,GAAA,CAAA,EAAA,CAAA,WAAA,EAAA,4BAAA,EAAA,UAAA,CAAA,EAAA;AACA,QAAA,GAAA,CAAA,SAAA,GAAA,KAAA,CAAA,MAAA,GAAA,SAAA;AACA,YAAA,OAAA,GAAA,CAAA,CAAA,QAAA,CAAA,CAAA,CAAA;AAEA,QAAA,KAAA,CACA,SADA,CACA,GAAA,CAAA,SAAA,CAAA,CAAA,CAAA,KAAA,CADA,EAEA,OAFA,yFAIA,OAAA,CAAA,UAAA,CAAA,SAJA,uGAKA,OAAA,CAAA,UAAA,CAAA,UALA,kGAMA,OAAA,CAAA,UAAA,CAAA,KANA,aAQA,KARA,CAQA,GARA;AASA,OAbA;AAeA,MAAA,GAAA,CAAA,EAAA,CAAA,YAAA,EAAA,4BAAA,EAAA,YAAA;AACA,QAAA,GAAA,CAAA,SAAA,GAAA,KAAA,CAAA,MAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA;AACA,OAHA;AAKA,MAAA,GAAA,CAAA,EAAA,CAAA,WAAA,EAAA,SAAA,EAAA,UAAA,CAAA,EAAA;AACA,QAAA,GAAA,CAAA,SAAA,GAAA,KAAA,CAAA,MAAA,GAAA,SAAA;AACA,YAAA,OAAA,GAAA,CAAA,CAAA,QAAA,CAAA,CAAA,CAAA;AAEA,QAAA,KAAA,CACA,SADA,CACA,GAAA,CAAA,SAAA,CAAA,CAAA,CAAA,KAAA,CADA,EAEA,OAFA,yGAIA,OAAA,CAAA,UAAA,CAAA,QAJA,+FAKA,OAAA,CAAA,UAAA,CAAA,GALA,4FAMA,OAAA,CAAA,UAAA,CAAA,MANA,oGAOA,OAAA,CAAA,UAAA,CAAA,IAPA,qGAQA,OAAA,CAAA,UAAA,CAAA,iBAAA,CARA,wGASA,OAAA,CAAA,UAAA,CAAA,oBAAA,CATA,mGAUA,OAAA,CAAA,UAAA,CAAA,WAAA,CAVA,aAYA,KAZA,CAYA,GAZA;AAaA,OAjBA;AAmBA,MAAA,GAAA,CAAA,EAAA,CAAA,YAAA,EAAA,SAAA,EAAA,YAAA;AACA,QAAA,GAAA,CAAA,SAAA,GAAA,KAAA,CAAA,MAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA;AACA,OAHA;AAKA,MAAA,GAAA,CAAA,EAAA,CAAA,QAAA,EAAA,UAAA,CAAA,EAAA;AACA,YAAA,GAAA,CAAA,QAAA,MAAA,EAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA;AACA,SAFA,MAEA;AACA,UAAA,KAAA,CAAA,QAAA;AACA;AACA,OANA;AAOA,KAhJA;AAiJA,IAAA,QAAA,EAAA,oBAAA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,UAAA,GAAA,GAAA,KAAA,CAAA,YAAA,CAAA,GAAA;AACA,UAAA,OAAA;AAEA,MAAA,GAAA,CAAA,QAAA,MAAA,EAAA,GAAA,OAAA,GAAA,IAAA,GAAA,OAAA,GAAA,KAAA;;AAEA,UAAA,OAAA,EAAA;AACA,QAAA,GAAA,CAAA,iBAAA,CAAA,eAAA,EAAA,YAAA,EAAA,MAAA;AACA,QAAA,GAAA,CAAA,SAAA,CAAA,4BAAA;AACA,QAAA,GAAA,CAAA,gBAAA,CACA,4BADA,EAEA,uBAFA,EAGA,KAAA,CAAA,SAAA,EAHA;AAKA,OARA,MAQA;AACA,QAAA,GAAA,CAAA,iBAAA,CAAA,eAAA,EAAA,YAAA,EAAA,SAAA;AACA,QAAA,GAAA,CAAA,SAAA,CAAA,4BAAA,EAAA,UAAA;AACA,QAAA,GAAA,CAAA,gBAAA,CACA,4BADA,EAEA,uBAFA,EAGA,CAHA;AAKA;AACA,KAzKA;AA0KA,IAAA,iBAAA,EAAA,6BAAA;AACA,UAAA,GAAA,GAAA,KAAA,YAAA,CAAA,GAAA;;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,UAAA,OAAA,GAAA,KAAA,CAAA,YAAA,CAAA,OAAA;AAEA,MAAA,GAAA,CAAA,SAAA,CAAA,eAAA,EAAA;AACA,QAAA,IAAA,EAAA,SADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAAA,EALA,CAUA;;AACA,MAAA,GAAA,CAAA,QAAA,CAAA;AACA,QAAA,EAAA,EAAA,eADA;AAEA,QAAA,IAAA,EAAA,MAFA;AAGA,QAAA,MAAA,EAAA,eAHA;AAIA,QAAA,MAAA,EAAA,EAJA;AAKA,QAAA,KAAA,EAAA;AALA,OAAA,EAOA,aAPA;AAUA,MAAA,GAAA,CAAA,QAAA,CAAA;AACA,QAAA,EAAA,EAAA,4BADA;AAEA,QAAA,IAAA,EAAA,gBAFA;AAGA,QAAA,MAAA,EAAA,eAHA;AAIA;AACA,QAAA,KAAA,EAAA;AACA,oCAAA;AADA;AALA,OAAA,EASA,UATA,EArBA,CAiCA;;AACA,MAAA,GAAA,CAAA,SAAA,CAAA,SAAA,EAAA;AACA,QAAA,IAAA,EAAA,SADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAAA;AAIA,MAAA,GAAA,CAAA,QAAA,CAAA;AACA,QAAA,EAAA,EAAA,SADA;AAEA,QAAA,IAAA,EAAA,QAFA;AAGA,QAAA,MAAA,EAAA,SAHA;;AAIA;;;;AAKA,QAAA,KAAA,EAAA;AACA,2BAAA,CADA;AAEA,0BAAA;AAFA;AATA,OAAA;AAeA,MAAA,GAAA,CAAA,QAAA,CAAA,EAAA;AACA,MAAA,GAAA,CAAA,iBAAA,CAAA,eAAA,EAAA,YAAA,EAAA,MAAA;AACA,MAAA,GAAA,CAAA,SAAA,CAAA,4BAAA;AACA,MAAA,GAAA,CAAA,gBAAA,CACA,4BADA,EAEA,uBAFA,EAGA,KAAA,CAAA,SAAA,EAHA;AAKA,KAvOA;AAwOA,IAAA,mBAAA,EAAA,+BAAA;AACA,UAAA,KAAA,YAAA,CAAA,SAAA,KAAA,IAAA,EAAA;AACA,YAAA,GAAA,GAAA,KAAA,YAAA,CAAA,GAAA;AACA,YAAA,QAAA,GAAA,KAAA,WAAA,CAAA,QAAA;AACA,YAAA,MAAA;;AAEA,YAAA,QAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,UAAA,MAAA,GAAA,CAAA,IAAA,EAAA,IAAA,CAAA;;AACA,eAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,QAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,MAAA,CAAA,IAAA,CAAA,QAAA,CAAA,CAAA,CAAA;AACA;AACA,SALA,MAKA;AACA,UAAA,MAAA,GAAA,CAAA,IAAA,EAAA,IAAA,EAAA,SAAA,CAAA;AACA,SAZA,CAcA;;;AACA,YAAA,UAAA,GAAA,EAAA;;AACA,YAAA,eAAA,CAAA,GAAA,CAAA,EAAA;AACA,UAAA,UAAA,GAAA,eAAA,CAAA,GAAA,CAAA;AACA;;AAEA,QAAA,GAAA,CAAA,SAAA,CAAA,6BAAA,EAAA,MAAA;AACA,QAAA,GAAA,CAAA,SAAA,CAAA,6BAAA,EAAA,MAAA;AACA;AACA,KAhQA;AAiQA,IAAA,kBAAA,EAAA,8BAAA;AACA,UAAA,GAAA,GAAA,KAAA,YAAA,CAAA,GAAA;;AACA,UAAA,KAAA,GAAA,IAAA;;AAEA,MAAA,GAAA,CAAA,gBAAA,CACA,4BADA,EAEA,sBAFA,EAGA,KAAA,CAAA,SAAA,EAHA;AAKA,MAAA,GAAA,CAAA,gBAAA,CACA,eADA,EAEA,YAFA,EAGA,KAAA,CAAA,eAAA,EAHA;AAKA,MAAA,GAAA,CAAA,gBAAA,CACA,eADA,EAEA,YAFA,EAGA,KAAA,CAAA,eAAA,EAHA;;AAMA,UAAA,KAAA,CAAA,YAAA,CAAA,WAAA,EAAA;AACA,QAAA,GAAA,CAAA,gBAAA,CACA,4BADA,EAEA,uBAFA,EAGA,KAAA,CAAA,SAAA,EAHA;AAKA;AACA,KA5RA;AA6RA,IAAA,gBAAA,EAAA,4BAAA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,UAAA,KAAA,YAAA,CAAA,SAAA,EAAA;AACA,aAAA,kBAAA;AACA;AACA,KAlSA;AAmSA,IAAA,YAAA,EAAA,wBAAA;AACA,WAAA,YAAA,CAAA,QAAA,GAAA,KAAA,WAAA,CAAA,QAAA;AACA,WAAA,gBAAA;AACA,KAtSA;AAuSA,IAAA,UAAA,EAAA,sBAAA;AACA,UAAA,KAAA,WAAA,CAAA,QAAA,KAAA,KAAA,YAAA,CAAA,QAAA,EAAA;AACA,aAAA,gBAAA;AACA;AACA,KA3SA;AA4SA,IAAA,YAAA,EAAA,wBAAA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,UAAA,MAAA,GAAA,gBAAA,CACA,KAAA,CAAA,YAAA,CAAA,OADA,EAEA,KAAA,CAAA,WAAA,CAAA,MAAA,CAAA,IAAA,CAAA,GAFA,EAGA,KAAA,CAAA,WAAA,CAAA,IAHA,CAAA;AAKA,aAAA,MAAA;AACA,KApTA;AAqTA,IAAA,aAAA,EAAA,yBAAA;AACA,UAAA,MAAA,GAAA,IAAA,QAAA,CAAA,YAAA,EAAA;;AACA,UAAA,KAAA,GAAA,IAAA;;AAEA,WAAA,YAAA,CAAA,OAAA,CAAA,QAAA,CAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,QAAA,OAAA,CAAA,QAAA,CAAA,WAAA,CAAA,OAAA,CAAA,UAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,UAAA,EAAA,EAAA;AACA,YAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AACA,WAFA;AAGA,SAJA;AAKA,OANA;AAQA,aAAA,MAAA;AACA,KAlUA;AAmUA,IAAA,iBAAA,EAAA,6BAAA;AACA,UAAA,MAAA,GAAA,IAAA,QAAA,CAAA,YAAA,EAAA;;AACA,UAAA,KAAA,GAAA,IAAA;;AAEA,WAAA,YAAA,CAAA,OAAA,CAAA,QAAA,CAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,YAAA,KAAA,CAAA,WAAA,CAAA,QAAA,CAAA,OAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA,MAAA,CAAA,CAAA,EAAA;AACA,UAAA,OAAA,CAAA,QAAA,CAAA,WAAA,CAAA,OAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,UAAA,EAAA,EAAA;AACA,cAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AACA,aAFA;AAGA,WAJA;AAKA;AACA,OARA;AAUA,WAAA,YAAA,CAAA,GAAA,CAAA,SAAA,CAAA,MAAA,EAAA;AACA,QAAA,OAAA,EAAA;AADA,OAAA;AAGA,KApVA;AAqVA,IAAA,eAAA,EAAA,2BAAA;AACA,UAAA,KAAA,GAAA,EAAA;;AACA,UAAA,KAAA,GAAA,IAAA;;AAEA,MAAA,KAAA,CAAA,WAAA,CAAA,QAAA,CAAA,OAAA,CAAA,EAAA,IAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,CAAA,EAAA,EAAA,SAAA,CAAA;AACA,OAFA;;AAIA,UAAA,OAAA,GAAA;AACA,QAAA,QAAA,EAAA,UADA;AAEA,QAAA,OAAA,EAAA,eAFA;AAGA,QAAA,IAAA,EAAA,aAHA;AAIA,QAAA,KAAA,EAAA;AAJA,OAAA;;AAOA,UAAA,KAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,eAAA,OAAA;AACA,OAFA,MAEA;AACA,eAAA,OAAA,CAAA,OAAA;AACA;AACA,KAzWA;AA0WA,IAAA,eAAA,EAAA,2BAAA;AACA,UAAA,KAAA,GAAA,EAAA;;AACA,UAAA,KAAA,GAAA,IAAA;;AAEA,MAAA,KAAA,CAAA,WAAA,CAAA,QAAA,CAAA,OAAA,CAAA,EAAA,IAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,CAAA,EAAA,EAAA,CAAA,CAAA;AACA,OAFA;;AAIA,UAAA,WAAA,GAAA;AACA,QAAA,QAAA,EAAA,UADA;AAEA,QAAA,OAAA,EAAA,GAFA;AAGA,QAAA,IAAA,EAAA,aAHA;AAIA,QAAA,KAAA,EAAA;AAJA,OAAA;;AAOA,UAAA,KAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,eAAA,WAAA;AACA,OAFA,MAEA;AACA,eAAA,WAAA,CAAA,OAAA;AACA;;AAEA,aAAA,KAAA;AACA,KAhYA;AAiYA,IAAA,SAAA,EAAA,qBAAA;AACA,UAAA,KAAA,GAAA,EAAA;;AACA,UAAA,KAAA,GAAA,IAAA;;AAEA,UAAA,OAAA,GAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,QAAA;AACA,UAAA,EAAA,GAAA,CAAA;AACA,UAAA,IAAA,GAAA,OAAA;AAEA,UAAA,MAAA,GAAA,CAAA,IAAA,EAAA,IAAA,EAAA,KAAA,EAAA,KAAA,EAAA,KAAA,EAAA,MAAA,CAAA;AACA,MAAA,KAAA,CAAA,WAAA,CAAA,MAAA,GAAA,MAAA;AACA,UAAA,MAAA,GAAA,KAAA,WAAA,CAAA,MAAA;;AAEA,UAAA,KAAA,GAAA,SAAA,KAAA,CAAA,GAAA,EAAA;AACA,YAAA,GAAA,IAAA,MAAA,CAAA,CAAA,CAAA,EAAA;AACA,iBAAA,MAAA,CAAA,CAAA,CAAA;AACA,SAFA,MAEA,IAAA,GAAA,IAAA,MAAA,CAAA,CAAA,CAAA,EAAA;AACA,iBAAA,MAAA,CAAA,CAAA,CAAA;AACA,SAFA,MAEA,IAAA,GAAA,IAAA,MAAA,CAAA,CAAA,CAAA,EAAA;AACA,iBAAA,MAAA,CAAA,CAAA,CAAA;AACA,SAFA,MAEA,IAAA,GAAA,IAAA,MAAA,CAAA,CAAA,CAAA,EAAA;AACA,iBAAA,MAAA,CAAA,CAAA,CAAA;AACA,SAFA,MAEA,IAAA,GAAA,IAAA,MAAA,CAAA,CAAA,CAAA,EAAA;AACA,iBAAA,MAAA,CAAA,CAAA,CAAA;AACA;AACA,OAZA;;AAcA,MAAA,MAAA,CAAA,IAAA,CAAA,IAAA,EAAA,OAAA,CAAA,EAAA,IAAA;AACA,YAAA,KAAA,GAAA,KAAA,CAAA,WAAA,CAAA,SAAA,CAAA,MAAA;;AAEA,YAAA,KAAA,KAAA,CAAA,IAAA,EAAA,GAAA,KAAA,EAAA;AAEA,UAAA,KAAA,CAAA,IAAA,CAAA,CAAA,MAAA,CAAA,KAAA,CAAA,WAAA,CAAA,SAAA,CAAA,EAAA,CAAA,CAAA,EAAA,SAAA,CAAA;AAEA,SAJA,MAIA,IAAA,KAAA,IAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,IAAA,CAAA,CAAA,IAAA,CAAA,EAAA,CAAA,CAAA,UAAA,CAAA,QAAA,EAAA,KAAA,CAAA,IAAA,CAAA,EAAA,CAAA,CAAA,UAAA,CAAA,KAAA,CAAA,CAAA;AACA;AAGA,OAZA;AAeA,UAAA,SAAA,GAAA;AACA,QAAA,QAAA,EAAA,UADA;AAEA,QAAA,OAAA,EAAA,kBAFA;AAGA,QAAA,IAAA,EAAA,aAHA;AAIA,QAAA,KAAA,EAAA;AAJA,OAAA;AAOA,aAAA,SAAA;AACA,KAlbA;AAmbA,IAAA,SAAA,EAAA,qBAAA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,UAAA,KAAA,GAAA,EAAA;AAEA,UAAA,OAAA,GAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,QAAA;AACA,UAAA,EAAA,GAAA,CAAA;AACA,UAAA,IAAA,GAAA,OAAA;AACA,UAAA,OAAA,GAAA,CAAA,IAAA,EAAA,IAAA,EAAA,KAAA,EAAA,KAAA,EAAA,KAAA,EAAA,MAAA,CAAA;AACA,MAAA,KAAA,CAAA,WAAA,CAAA,MAAA,GAAA,OAAA;AACA,UAAA,YAAA,GAAA,WAAA,GACA,MADA,CACA,CACA,OADA,EAEA,OAAA,CAAA,OAAA,CAAA,MAAA,GAAA,CAAA,CAFA,CADA,EAKA,KALA,CAKA,CAAA,CAAA,EAAA,MAAA,CALA,CAAA;AAOA,MAAA,MAAA,CAAA,IAAA,CAAA,IAAA,EAAA,OAAA,CAAA,EAAA,IAAA;AACA,YAAA,KAAA,GAAA,IAAA,CAAA,EAAA,CAAA,CAAA,UAAA,CAAA,KAAA;;AACA,YAAA,KAAA,KAAA,IAAA,EAAA;AACA,UAAA,KAAA,CAAA,IAAA,CAAA,CAAA,IAAA,CAAA,EAAA,CAAA,CAAA,UAAA,CAAA,QAAA,EAAA,KAAA,GAAA,GAAA,CAAA;AACA;AACA,OALA;AAOA,UAAA,MAAA,GAAA;AACA,QAAA,QAAA,EAAA,UADA;AAEA,QAAA,OAAA,EAAA,CAFA;AAGA,QAAA,IAAA,EAAA,aAHA;AAIA,QAAA,KAAA,EAAA;AAJA,OAAA;AAOA,aAAA,MAAA;AACA;AAldA,GATA;AA6dA,EAAA,OAAA,EAAA,mBAAA;AACA,SAAA,OAAA;AACA;AA/dA,CAAA","sourcesContent":["<template>\r\n  <div class=\"\" style=\"position: relative; width: 100%; height: 100%\">\r\n    <div id=\"map\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport mapboxgl from 'mapbox-gl';\r\nimport geojsonDataMerge from '../js/geojsondatamerge';\r\nimport {\r\n  prettyNumber\r\n} from '../js/number_format';\r\nimport getURLParameter from '../js/geturlparams';\r\nimport {\r\n  scaleLinear\r\n} from 'd3-scale';\r\nimport geog from '../../data/geography.geojson.json';\r\nimport virousgeog from '../../data/config/COVID.geojson.json';\r\n\r\nexport default {\r\n  name: 'sc-map',\r\n  watch: {\r\n    'sharedState.selected': 'selectNeighborhoods',\r\n    \r\n    'sharedState.year': 'updateYear',\r\n    'sharedState.selected': 'styleNeighborhoods',\r\n    'sharedState.highlight': 'styleNeighborhoods'\r\n  },\r\n  methods: {\r\n    initMap: function () {\r\n      let _this = this;\r\n      _this.privateState.map = new mapboxgl.Map(_this.privateState.mapOptions);\r\n\r\n      let map = _this.privateState.map;\r\n\t\t \r\n      // add nav control\r\n      var nav = new mapboxgl.NavigationControl();\r\n      map.addControl(nav, 'top-right');\r\n\r\n\t  // Pitch control\r\n    class PitchControl {\r\n      onAdd(map) {\r\n        this._map = map;\r\n        const container = document.createElement('div');\r\n        container.className = 'mapboxgl-ctrl mapboxgl-ctrl-group';\r\n        container.innerHTML = '<button class=\"mapboxgl-ctrl-icon mapboxgl-ctrl-custom-pitch\" type=\"button\"><span>3D</span></button>';\r\n        container.onclick = function(){\r\n          const pitch = map.getPitch();\r\n          const zoom = map.getZoom();\r\n          let nextPitch = 0;\r\n          if (pitch <= 5) nextPitch = 30;\r\n          if (pitch < 5) {\r\n            map.flyTo({\r\n              pitch: nextPitch,\r\n              //zoom: 8,\r\n            });\r\n\t\t\tmap.setLayoutProperty('neighborhoods', 'visibility', 'none');\r\n\t\t\tmap.moveLayer('neighborhoods-fill-extrude');\r\n\t\t\tmap.setPaintProperty(\r\n\t\t\t'neighborhoods-fill-extrude',\r\n\t\t\t'fill-extrusion-height',\r\n\t\t\t_this.getHeight()\r\n\t\t\t);\r\n          } else {\r\n            map.easeTo({\r\n              pitch: nextPitch\r\n            });\r\n\t\t\tmap.setLayoutProperty('neighborhoods', 'visibility', 'visible');\r\n\t\t\tmap.moveLayer('neighborhoods-fill-extrude', 'building');\r\n\t\t\tmap.setPaintProperty(\r\n\t\t\t'neighborhoods-fill-extrude',\r\n\t\t\t'fill-extrusion-height',\r\n\t\t\t0\r\n\t\t\t);\r\n          }\r\n        };\r\n        map.on('pitchend', this.onPitch);\r\n        this._container = container;\r\n        return this._container;\r\n      }\r\n      onPitch = () => {\r\n        const pitch = this._map.getPitch();\r\n        const is3DMode = pitch > 5;\r\n        this._container.classList.toggle('active', is3DMode);\r\n      }\r\n      onRemove() {\r\n        this._container.parentNode.removeChild(this._container);\r\n        this._map.off('pitchend', this.onPitch);\r\n        this._map = undefined;\r\n      }\r\n    };\r\n    map.addControl(new PitchControl(), 'top-right');\r\n\t  \r\n      // disable map rotation using right click + drag and touch\r\n      if (_this.privateState.pitch === false) {\r\n        //map.dragRotate.disable();\r\n        map.touchZoomRotate.disableRotation();\r\n      }\r\n\r\n      // after map initiated, grab geography and intiate/style neighborhoods\r\n      map.on('load', function () {\r\n        _this.privateState.mapLoaded = true;\r\n        _this.privateState.geoJSON = geog;\r\n        _this.initNeighborhoods();\r\n        _this.styleNeighborhoods();\r\n        _this.initMapEvents();\r\n\r\n        if (_this.sharedState.selected.length > 0) {\r\n          _this.zoomNeighborhoods();\r\n        }\r\n      });\r\n\r\n    },\r\n    initMapEvents: function () {\r\n      let map = this.privateState.map;\r\n      let _this = this;\r\n      let popup = new mapboxgl.Popup({\r\n        closeButton: false,\r\n        closeOnClick: false\r\n      });\r\n\r\n      map.on('mousemove', 'neighborhoods-fill-extrude', function (e) {\r\n        map.getCanvas().style.cursor = 'pointer';\r\n        let feature = e.features[0];\r\n        \r\n        popup\r\n          .setLngLat(map.unproject(e.point))\r\n          .setHTML(\r\n            `<div style=\"text-align: center; margin: 0; padding: 0;\">\r\n\t\t\tUrban Zone: ${feature.properties.SUBZONE_N}</div>\t\t\t\r\n\t\t\t<div style=\"text-align: center; margin: 0; padding: 0;\"> Plan Area: ${feature.properties.PLN_AREA_N}</div>\r\n\t\t\t<div style=\"text-align: center; margin: 0; padding: 0;\"> Population: ${feature.properties.TOTAL}</div>`\r\n          )\r\n          .addTo(map);\r\n      });\r\n\r\n      map.on('mouseleave', 'neighborhoods-fill-extrude', function () {\r\n        map.getCanvas().style.cursor = '';\r\n        popup.remove();\r\n      });\r\n\r\n\t  map.on('mousemove', 'markers', function (e) {\r\n        map.getCanvas().style.cursor = 'pointer';\r\n        let feature = e.features[0];\r\n        \r\n        popup\r\n          .setLngLat(map.unproject(e.point))\r\n          .setHTML(\r\n            `<div style=\"text-align: center; margin: 0; padding: 0; font-weight: bold\">\r\n\t\t\tCase Num: ${feature.properties.case_num}</div>\t\t\t\r\n\t\t\t<div style=\"text-align: left; margin: 0; padding: 0;\"> Age: ${feature.properties.age}</div>\r\n\t\t\t<div style=\"text-align: left; margin: 0; padding: 0;\"> Gender: ${feature.properties.gender}</div>\r\n\t\t\t<div style=\"text-align: left; margin: 0; padding: 0;\"> Date Confirmed: ${feature.properties.date}</div>\r\n\t\t\t<div style=\"text-align: left; margin: 0; padding: 0;\"> Date Discharged: ${feature.properties[\"date discharged\"]}</div>\r\n\t\t\t<div style=\"text-align: left; margin: 0; padding: 0;\"> Hospital Confirmed: ${feature.properties[\"hospital confirmed\"]}</div>\r\n\t\t\t<div style=\"text-align: left; margin: 0; padding: 0;\"> Stay Location: ${feature.properties[\"stayed at\"]}</div>`\r\n          )\r\n          .addTo(map);\r\n      });\r\n\r\n      map.on('mouseleave', 'markers', function () {\r\n        map.getCanvas().style.cursor = '';\r\n        popup.remove();\r\n      });\r\n\t  \r\n      map.on('rotate', function (e) {\r\n        if (map.getPitch() >= 20) {\r\n          _this.toggle3D();\r\n        } else {\r\n          _this.toggle3D();\r\n        }\r\n      });\r\n    },\r\n    toggle3D: function () {\r\n      let _this = this;\r\n      let map = _this.privateState.map;\r\n      let pitched;\r\n\r\n      map.getPitch() >= 20 ? (pitched = true) : (pitched = false);\r\n\r\n      if (pitched) {\r\n        map.setLayoutProperty('neighborhoods', 'visibility', 'none');\r\n        map.moveLayer('neighborhoods-fill-extrude');\r\n        map.setPaintProperty(\r\n          'neighborhoods-fill-extrude',\r\n          'fill-extrusion-height',\r\n          _this.getHeight()\r\n        );\r\n      } else {\r\n        map.setLayoutProperty('neighborhoods', 'visibility', 'visible');\r\n        map.moveLayer('neighborhoods-fill-extrude', 'building');\r\n        map.setPaintProperty(\r\n          'neighborhoods-fill-extrude',\r\n          'fill-extrusion-height',\r\n          0\r\n        );\r\n      }\r\n    },\r\n    initNeighborhoods: function () {\r\n      let map = this.privateState.map;\r\n      let _this = this;\r\n      let geoJSON = _this.privateState.geoJSON;\r\n\r\n      map.addSource('neighborhoods', {\r\n        type: 'geojson',\r\n        data: geoJSON\r\n      });\r\n\r\n      // neighborhood boundaries\r\n      map.addLayer({\r\n          id: 'neighborhoods',\r\n          type: 'line',\r\n          source: 'neighborhoods',\r\n          layout: {},\r\n          paint: {}\r\n        },\r\n        'place_other'\r\n      );\r\n\r\n      map.addLayer({\r\n          id: 'neighborhoods-fill-extrude',\r\n          type: 'fill-extrusion',\r\n          source: 'neighborhoods',\r\n          //'filter': ['!=', 'choropleth', 'null'],\r\n          paint: {\r\n            'fill-extrusion-opacity': 0.7\r\n          }\r\n        },\r\n        'building'\r\n      );\r\n\t  \r\n      // markers layer\r\n      map.addSource('markers', {\r\n        type: 'geojson',\r\n        data: virousgeog\r\n      });\r\n      map.addLayer({\r\n        id: 'markers',\r\n        type: 'circle',\r\n        source: 'markers',\r\n        /* layout: {\r\n          'icon-image': 'circle-11',\r\n          'icon-size': 1.0,\r\n\t\t  \r\n        } */\r\n\t\tpaint: {\r\n\t\t'circle-radius': 8,\r\n\t\t'circle-color': '#ff0000'\r\n\t\t}\r\n      });\r\n\t  \r\n\t  \tmap.setPitch(30)\r\n\t\tmap.setLayoutProperty('neighborhoods', 'visibility', 'none');\r\n        map.moveLayer('neighborhoods-fill-extrude');\r\n        map.setPaintProperty(\r\n          'neighborhoods-fill-extrude',\r\n          'fill-extrusion-height',\r\n          _this.getHeight()\r\n        );\r\n    },\r\n    selectNeighborhoods: function () {\r\n      if (this.privateState.mapLoaded === true) {\r\n        let map = this.privateState.map;\r\n        let selected = this.sharedState.selected;\r\n        let filter;\r\n\r\n        if (selected.length > 0) {\r\n          filter = ['in', 'id'];\r\n          for (let i = 0; i < selected.length; i++) {\r\n            filter.push(selected[i]);\r\n          }\r\n        } else {\r\n          filter = ['in', 'id', '-999999'];\r\n        }\r\n\r\n        // push selected state\r\n        let linkMetric = '';\r\n        if (getURLParameter('m')) {\r\n          linkMetric = getURLParameter('m');\r\n        }\r\n\r\n        map.setFilter('neighborhoods-line-selected', filter);\r\n        map.setFilter('neighborhoods-fill-selected', filter);\r\n      }\r\n    },\r\n    styleNeighborhoods: function () {\r\n      let map = this.privateState.map;\r\n      let _this = this;\r\n\r\n      map.setPaintProperty(\r\n        'neighborhoods-fill-extrude',\r\n        'fill-extrusion-color',\r\n        _this.getColors()\r\n      );\r\n      map.setPaintProperty(\r\n        'neighborhoods',\r\n        'line-color',\r\n        _this.getOutlineColor()\r\n      );\r\n      map.setPaintProperty(\r\n        'neighborhoods',\r\n        'line-width',\r\n        _this.getOutlineWidth()\r\n      );\r\n\t  \r\n      if (_this.privateState.isPitched3D) {\r\n        map.setPaintProperty(\r\n          'neighborhoods-fill-extrude',\r\n          'fill-extrusion-height',\r\n          _this.getHeight()\r\n        );\r\n      }\r\n    },\r\n    updateChoropleth: function () {\r\n      let _this = this;\r\n      if (this.privateState.mapLoaded) {\r\n        this.styleNeighborhoods();\r\n      }\r\n    },\r\n    updateBreaks: function () {\r\n      this.privateState.metricId = this.sharedState.metricId;\r\n      this.updateChoropleth();\r\n    },\r\n    updateYear: function () {\r\n      if (this.sharedState.metricId === this.privateState.metricId) {\r\n        this.updateChoropleth();\r\n      }\r\n    },\r\n    geoJSONMerge: function () {\r\n      let _this = this;\r\n      let geoObj = geojsonDataMerge(\r\n        _this.privateState.geoJSON,\r\n        _this.sharedState.metric.data.map,\r\n        _this.sharedState.year\r\n      );\r\n      return geoObj;\r\n    },\r\n    getFullBounds: function () {\r\n      let bounds = new mapboxgl.LngLatBounds();\r\n      let _this = this;\r\n\r\n      this.privateState.geoJSON.features.forEach(function (feature) {\r\n        feature.geometry.coordinates.forEach(function (coord) {\r\n          coord.forEach(function (el) {\r\n            bounds.extend(el);\r\n          });\r\n        });\r\n      });\r\n\r\n      return bounds;\r\n    },\r\n    zoomNeighborhoods: function () {\r\n      let bounds = new mapboxgl.LngLatBounds();\r\n      let _this = this;\r\n\r\n      this.privateState.geoJSON.features.forEach(function (feature) {\r\n        if (_this.sharedState.selected.indexOf(feature.properties.id) !== -1) {\r\n          feature.geometry.coordinates.forEach(function (coord) {\r\n            coord.forEach(function (el) {\r\n              bounds.extend(el);\r\n            });\r\n          });\r\n        }\r\n      });\r\n\r\n      this.privateState.map.fitBounds(bounds, {\r\n        padding: 100\r\n      });\r\n    },\r\n    getOutlineColor: function () {\r\n      const stops = [];\r\n      let _this = this;\r\n\r\n      _this.sharedState.selected.forEach(id => {\r\n        stops.push([id, '#ba00e4']);\r\n      });\r\n\r\n      let outline = {\r\n        property: 'OBJECTID',\r\n        default: 'rgba(0,0,0,1)',\r\n        type: 'categorical',\r\n        stops: stops\r\n      };\r\n\r\n      if (stops.length > 0) {\r\n        return outline;\r\n      } else {\r\n        return outline.default;\r\n      }\r\n    },\r\n    getOutlineWidth: function () {\r\n      const stops = [];\r\n      let _this = this;\r\n\r\n      _this.sharedState.selected.forEach(id => {\r\n        stops.push([id, 4]);\r\n      });\r\n\r\n      let outlineSize = {\r\n        property: 'OBJECTID',\r\n        default: 0.4,\r\n        type: 'categorical',\r\n        stops: stops\r\n      };\r\n\r\n      if (stops.length > 0) {\r\n        return outlineSize;\r\n      } else {\r\n        return outlineSize.default;\r\n      }\r\n\r\n      return stops;\r\n    },\r\n    getColors: function () {\r\n      const stops = [];\r\n      let _this = this;\r\n\t  \r\n\t  let feature = _this.privateState.geoJSON.features;\r\n      let id = 1;  \r\n      let data = feature;\r\n\t  \r\n      let breaks = [3125,6250,12500,25000,50000,200000];\r\n\t  _this.sharedState.breaks = breaks;\r\n      let colors = this.sharedState.colors;\r\n\r\n      let color = function (val) {\r\n        if (val <= breaks[1]) {\r\n          return colors[0];\r\n        } else if (val <= breaks[2]) {\r\n          return colors[1];\r\n        } else if (val <= breaks[3]) {\r\n          return colors[2];\r\n        } else if (val <= breaks[4]) {\r\n          return colors[3];\r\n        } else if (val <= breaks[5]) {\r\n          return colors[4];\r\n        }\r\n      };\r\n\r\n    Object.keys(data).forEach(id => {\r\n             const value = _this.sharedState.highlight.length;\r\n              \r\n\t\t\t if (value !== 0 && id < value) {\t\t\t \r\n\t\t\t    \r\n\t\t\t\tstops.push([Number(_this.sharedState.highlight[id]), '#F7E55B']);\r\n\r\n             } else if (value == 0 ) {\r\n               stops.push([data[id].properties.OBJECTID, color(data[id].properties.TOTAL)]);\r\n             }\r\n\t\t\t \r\n\t\t\t \r\n           });\r\n\t\t   \r\n\t  \r\n      let fillColor = {\r\n        property: 'OBJECTID',\r\n        default: 'rgb(242,243,240)',\r\n        type: 'categorical',\r\n        stops: stops\r\n      };\r\n\r\n      return fillColor;\r\n    },\r\n    getHeight: function () {\r\n      let _this = this;\r\n      const stops = [];\r\n      \r\n\t  let feature = _this.privateState.geoJSON.features;\r\n      let id = 1;  \r\n      let data = feature;\r\n\t  let hbreaks = [3125,6250,12500,25000,50000,200000];\r\n\t  _this.sharedState.breaks = hbreaks;\r\n      let heightAdjust = scaleLinear()\r\n        .domain([\r\n          hbreaks,\r\n          hbreaks[hbreaks.length - 1]\r\n        ])\r\n        .range([0, 200000]);\r\n\r\n      Object.keys(data).forEach(id => {\r\n        const value = data[id].properties.TOTAL;\r\n        if (value !== null) {\r\n          stops.push([data[id].properties.OBJECTID, value/100]);\r\n        }\r\n      });\r\n\t  \r\n      let height = {\r\n        property: 'OBJECTID',\r\n        default: 0,\r\n        type: 'categorical',\r\n        stops: stops\r\n      };\r\n\r\n      return height;\r\n    }\r\n  },\r\n  mounted: function () {\r\n    this.initMap();\r\n  }\r\n};\r\n</script>"],"sourceRoot":"src/components"}]}